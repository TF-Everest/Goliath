<app-navbar></app-navbar>
<div class="sidenav-container">
  <app-sidenav></app-sidenav>
</div>
<div class="viewport-content-container">
  <div class="uk-grid uk-child-width-expand@s">
    <div class="uk-width-1-3@m">
      <div class="uk-card uk-card-default uk-card-body uk-text-center" style="margin-bottom: 30px" *ngIf="!is_loading">
        <h3 class="uk-card-title" style="margin-bottom: 5px;">{{current_user.rank.name}}</h3>
        <h3 class="uk-card-title" style="margin-top: 10px; margin-bottom: 5px;">{{current_user.name.full}}</h3>
        <h3 class="uk-text-meta" style="margin-top: 10px; margin-bottom: 5px;">{{current_user.position ? current_user.position.name : "Pending Assignment"}}</h3>
        <h3 class="uk-text-meta" style="margin-top: 10px;">{{current_user.position ? current_user.position.parent_formation.name : "" }}</h3>
      </div>
      <div class="uk-card uk-card-default uk-card-body uk-text-center" style="margin-bottom: 30px" *ngIf="is_loading">
        <div class="uk-spinner uk-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" ratio="1">
            <circle fill="none" stroke="#000" cx="15" cy="15" r="14"></circle>
          </svg>
        </div>
      </div>
      <div class="uk-card uk-card-default uk-card-body uk-text-center" style="margin-bottom: 30px" *ngIf="!is_loading && current_user.accountability_status === 'absent'">
        <h3 class="uk-card-title uk-text-danger" style="margin-bottom: 5px;">You have not reported in!</h3>
        <a class="uk-button uk-button-danger" (click)="reportIn()">Report In</a>
      </div>
    </div>
    <div class="uk-width-2-3@m">
      <div class="uk-card uk-card-body uk-card-primary">
        <h3 class="uk-card-title">Items Awaiting Your Attention</h3>
      </div>

      <div routerLink="/team" class="uk-card uk-card-body uk-card-default uk-card-small" style="padding-left: 30px;">
        <span class="uk-text-bold">Send Training Report to Platoon Sergeant</span>
        <span class="uk-text-danger uk-text-right">3 days overdue</span>
      </div>

      <div routerLink="/team" class="uk-card uk-card-body uk-card-default uk-card-small" style="padding-left: 30px;">
        <span class="uk-text-bold">Follow up with 3 possible recruits on Steam</span>
      </div>

      <div routerLink="/team" class="uk-card uk-card-body uk-card-default uk-card-small" style="padding-left: 30px;">
        <span class="uk-text-bold">Read briefing for Operation Sundance</span>
        <span class="uk-text-primary uk-text-right">Due in 2 days</span>
      </div>
    </div>
  </div>
</div>
